{"version":3,"sources":["../src/write-good.js"],"names":["reporter","context","options","Syntax","getSource","report","RuleError","helper","Str","node","isChildNode","BlockQuote","text","suggestions","forEach","suggestion","index","message","reason","linter","fixer"],"mappings":";;;;;;AAAA;;AACA;;;;;;AAEA,SAASA,QAAT,CAAkBC,OAAlB,EAA2BC,UAAU,EAArC,EAAyC;AAAA,QAC/BC,MAD+B,GACUF,OADV,CAC/BE,MAD+B;AAAA,QACvBC,SADuB,GACUH,OADV,CACvBG,SADuB;AAAA,QACZC,MADY,GACUJ,OADV,CACZI,MADY;AAAA,QACJC,SADI,GACUL,OADV,CACJK,SADI;;AAEvC,QAAMC,SAAS,mCAAeN,OAAf,CAAf;;AAEA,SAAO;AACL,KAACE,OAAOK,GAAR,EAAaC,IAAb,EAAmB;AACjB,UAAIF,OAAOG,WAAP,CAAmBD,IAAnB,EAAyB,CAACN,OAAOQ,UAAR,CAAzB,CAAJ,EAAmD;AACjD;AACD;;AAED,YAAMC,OAAOR,UAAUK,IAAV,CAAb;AACA,YAAMI,cAAc,yBAAUD,IAAV,EAAgBV,OAAhB,CAApB;;AAEAW,kBAAYC,OAAZ,CAAqBC,UAAD,IAAgB;AAAA,cAC1BC,KAD0B,GACCD,UADD,CAC1BC,KAD0B;AAAA,cACXC,OADW,GACCF,UADD,CACnBG,MADmB;;;AAGlCb,eAAOI,IAAP,EAAa,IAAIH,SAAJ,CAAcW,OAAd,EAAuB,EAAED,KAAF,EAAvB,CAAb;AACD,OAJD;AAKD;AAdI,GAAP;AAgBD;;kBAEc;AACbG,UAAQnB,QADK;AAEboB,SAAOpB;AAFM,C","file":"write-good.js","sourcesContent":["import { RuleHelper } from 'textlint-rule-helper';\nimport writeGood from 'write-good';\n\nfunction reporter(context, options = {}) {\n  const { Syntax, getSource, report, RuleError } = context;\n  const helper = new RuleHelper(context);\n\n  return {\n    [Syntax.Str](node) {\n      if (helper.isChildNode(node, [Syntax.BlockQuote])) {\n        return;\n      }\n\n      const text = getSource(node);\n      const suggestions = writeGood(text, options);\n\n      suggestions.forEach((suggestion) => {\n        const { index, reason: message } = suggestion;\n\n        report(node, new RuleError(message, { index }));\n      });\n    },\n  };\n}\n\nexport default {\n  linter: reporter,\n  fixer: reporter,\n};\n"]}